<app-navbar></app-navbar>

<div class="form-wrapper">
  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">

    <!-- NOME E COGNOME -->
    <div>
      <label for="fullName">Nome e Cognome *</label>
      <input id="fullName" type="text" formControlName="fullName" [class.invalid]="f['fullName'].touched && f['fullName'].invalid">
      <small *ngIf="f['fullName'].touched && f['fullName'].hasError('required')">Campo obbligatorio</small>
    </div>

    <!-- OGGETTO -->
    <div>
      <label for="subject">Oggetto (opzionale)</label>
      <input id="subject" type="text" formControlName="subject">
    </div>

    <!-- SERVIZIO -->
    <div>
      <label for="service">Servizio *</label>
      <select id="service" formControlName="service" [class.invalid]="f['service'].touched && f['service'].invalid">
        <option value="">Seleziona servizio</option>
        <option value="idraulica">Idraulica</option>
        <option value="spurgo">Spurgo</option>
        <option value="disinfezione">Disinfezione</option>
        <option value="derattizzazione">Derattizzazione</option>
      </select>
      <small *ngIf="f['service'].touched && f['service'].hasError('required')">Campo obbligatorio</small>
    </div>

    <!-- INDIRIZZO -->
    <div>
      <label for="address">Indirizzo *</label>
      <input id="address" type="text" formControlName="address" [class.invalid]="f['address'].touched && f['address'].invalid">
      <small *ngIf="f['address'].touched && f['address'].hasError('required')">Campo obbligatorio</small>
    </div>

    <!-- SOLUZIONE ATTIVA -->
    <!--<div>
      <label for="hasSolution">
        <input id="hasSolution" type="checkbox" formControlName="hasSolution">
        Soluzione attiva
      </label>
    </div>

    NUMERO SOLUZIONE
    <div *ngIf="contactForm.get('hasSolution')?.value">
      <label for="solutionNumber">Numero Soluzione *</label>
      <input id="solutionNumber" type="text" formControlName="solutionNumber" [class.invalid]="f['solutionNumber'].touched && f['solutionNumber'].invalid">
      <small *ngIf="f['solutionNumber'].touched && f['solutionNumber'].hasError('required')">Campo obbligatorio</small>
    </div>-->

    <!-- DESCRIZIONE PROBLEMA -->
    <div>
      <label for="description">Descrizione Problema *</label>
      <textarea id="description" formControlName="description" [class.invalid]="f['description'].touched && f['description'].invalid"></textarea>
      <small *ngIf="f['description'].touched && f['description'].hasError('required')">Campo obbligatorio</small>
    </div>

    <!-- ALLEGA IMMAGINE -->
    <div>
      <label for="image">Allega immagine</label>
      <input id="image" type="file" (change)="onImageChange($event)">
      <div *ngIf="imagePreview">
        <img [src]="imagePreview" alt="Anteprima immagine">
      </div>
    </div>

    <!-- PULSANTE INVIO -->
    <div>
      <button type="submit" [disabled]="contactForm.invalid || isSubmitting">
        {{ isSubmitting ? 'Invio in corso...' : 'INVIA' }}
      </button>
    </div>
  </form>
</div>
<app-footer></app-footer>
